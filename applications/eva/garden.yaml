kind: Module
name: eva-build
description: eva
type: exec
local: true
build:
  command:
    - bazel build //applications/sting:sting
---
kind: Module
name: eva
description: eva
type: container
build:
  dependencies:
      name: eva-build
      copy:
        - source:
          target: ''
include:
  - .env
services:
  - name: backend
    ports:
      - name: http
        containerPort: 8000
        servicePort: 8000
      - name: grpc
        containerPort: 8080
        servicePort: 8080
tasks:
  - name: db-migrate
    command: [./eva, db, migrate]
    dependencies:
      - scylla
  - name: db-seed
    command: [./eva, db, seed]
    dependencies:
      - scylla