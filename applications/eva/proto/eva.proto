syntax = "proto3";

package applications.grpc.eva.v1;

message RegisteredEmails {
  string email = 1;
  string username = 2;
}

message AuthenticationCookie {
  string cookie = 1;
  bool redeemed = 2;
  string expiration = 3;
  string email = 4;
}

message GetRegisteredEmailRequest {
  string email = 1;
}

message CreateAuthenticationCookieRequest {
  string email = 1;
}

message CreateAuthenticationCookieResponse {
  AuthenticationCookie cookie = 1;
}

message GetAuthenticationCookieRequest {
  string email = 1;
}

message GetAuthenticationCookieResponse {
  string cookie = 1;
  bool valid = 2;
}

message GetRegisteredEmailResponse {
  string username = 1;
}

service EvaAPI {
  rpc GetRegisteredEmail(GetRegisteredEmailRequest) returns (GetRegisteredEmailResponse);
  rpc GetAuthenticationCookie(GetAuthenticationCookieRequest) returns (GetAuthenticationCookieResponse);
  rpc CreateAuthenticationCookie(CreateAuthenticationCookieRequest) returns (CreateAuthenticationCookieResponse);
}