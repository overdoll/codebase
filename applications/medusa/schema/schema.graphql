directive @auth on FIELD_DEFINITION

directive @validation(rules: [String!]!) on INPUT_FIELD_DEFINITION

type Authentication {
  cookie: Cookie
  user: User
}

input AuthenticationInput {
  email: String!
}

type AuthListener {
  sameSession: Boolean!
  cookie: Cookie
}

type Cookie {
  sameSession: Boolean!
  registered: Boolean!
  redeemed: Boolean!
  session: String!
  email: String!
}

type Mutation {
  authenticate(data: AuthenticationInput): Boolean!
  register(data: RegisterInput): Boolean!
  authEmail: Boolean!
  logout: Boolean!
}

type Query {
  redeemCookie(cookie: String!): Cookie
  authentication: Authentication
}

input RegisterInput {
  username: String!
}

type Subscription {
  authListener: AuthListener
}

type User {
  username: String!
}
