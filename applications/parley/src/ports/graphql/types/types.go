// Code generated by github.com/99designs/gqlgen, DO NOT EDIT.

package types

import (
	"fmt"
	"io"
	"overdoll/libraries/graphql/relay"
	"strconv"
	"time"
)

// Represents an account
type Actor interface {
	IsActor()
}

type Account struct {
	// Post Audit Logs linked to this account
	//
	// Viewable by either the currently logged-in account or staff+
	ModeratorPostAuditLogs *PostAuditLogConnection `json:"moderatorPostAuditLogs"`
	// Infraction history for this account
	//
	// Viewable by the currently authenticated account or staff+
	Infractions *AccountInfractionHistoryConnection `json:"infractions"`
	// Moderator settings for this account
	//
	// Viewable by the currently authenticated account or staff+
	ModeratorSettings *AccountModeratorSettings `json:"moderatorSettings"`
	ID                relay.ID                  `json:"id"`
}

func (Account) IsEntity() {}

// Infraction history belonging to an account
type AccountInfractionHistory struct {
	// ID of the infraction history
	ID relay.ID `json:"id"`
	// The reason for this infraction
	Reason string `json:"reason"`
}

func (AccountInfractionHistory) IsNode()   {}
func (AccountInfractionHistory) IsEntity() {}

// Connection of the infraction history
type AccountInfractionHistoryConnection struct {
	Edges    []*AccountInfractionHistoryEdge `json:"edges"`
	PageInfo *relay.PageInfo                 `json:"pageInfo"`
}

// Edge of the infraction history
type AccountInfractionHistoryEdge struct {
	Node   *AccountInfractionHistory `json:"node"`
	Cursor string                    `json:"cursor"`
}

type AccountModeratorSettings struct {
	InQueue bool `json:"inQueue"`
}

// Moderate the pending post input
type ModeratePostInput struct {
	// Pending post to take action against
	PostID relay.ID `json:"postId"`
	// If rejecting a pending post, put in the ID of a rejection reason
	PostRejectionReasonID *relay.ID `json:"postRejectionReasonId"`
	// Any extra notes for the moderator
	Notes string `json:"notes"`
}

// Moderate the pending post payload
type ModeratePostPayload struct {
	// The audit log generated by the pending post
	PostAuditLog *PostAuditLog `json:"postAuditLog"`
}

type Post struct {
	ID relay.ID `json:"id"`
	// Audit logs belonging to this pending post
	AuditLogs []*PostAuditLog `json:"auditLogs"`
}

func (Post) IsEntity() {}

// Post audit log
//
// Audit log is created when a moderator takes an action against a pending post
type PostAuditLog struct {
	// ID of the audit log
	ID relay.ID `json:"id"`
	// The contributor that the audit log belongs to
	Contributor Actor `json:"contributor"`
	// The moderator that this log belongs to
	Moderator Actor `json:"moderator"`
	// The status or the action that was taken against the pending post
	Action PostAuditLogActionEnum `json:"action"`
	// The reason the action was taken
	Reason string `json:"reason"`
	// Additional notes by the moderator
	Notes string `json:"notes"`
	// If this audit log was reverted
	Reverted bool `json:"reverted"`
	// The time until which this audit log will be revertable
	ReversibleUntil time.Time `json:"reversibleUntil"`
	// The infraction that is linked to this audit log, mainly kept here as a reference so reverting will be easier
	InfractionID *relay.ID `json:"infractionId"`
}

func (PostAuditLog) IsNode()   {}
func (PostAuditLog) IsEntity() {}

// Connection of the audit log
type PostAuditLogConnection struct {
	Edges    []*PostAuditLogEdge `json:"edges"`
	PageInfo *relay.PageInfo     `json:"pageInfo"`
}

// Edge of the audit log
type PostAuditLogEdge struct {
	Node   *PostAuditLog `json:"node"`
	Cursor string        `json:"cursor"`
}

// Infraction history belonging to an account
type PostRejectionReason struct {
	// ID of the rejection reason
	ID relay.ID `json:"id"`
	// The reason for this rejection
	Reason string `json:"reason"`
	// If the rejection reason will count against an infraction on the account
	Infraction bool `json:"infraction"`
}

func (PostRejectionReason) IsNode()   {}
func (PostRejectionReason) IsEntity() {}

// Connection of the pending post rejection reason
type PostRejectionReasonConnection struct {
	Edges    []*PostRejectionReasonEdge `json:"edges"`
	PageInfo *relay.PageInfo            `json:"pageInfo"`
}

// Edge of the pending post rejection reason
type PostRejectionReasonEdge struct {
	Node   *PostRejectionReason `json:"node"`
	Cursor string               `json:"cursor"`
}

// Revert the pending post audit log input
type RevertPostAuditLogInput struct {
	// The audit log to revert
	PostAuditLogID relay.ID `json:"postAuditLogId"`
}

// Revert the pending post audit log payload
type RevertPostAuditLogPayload struct {
	// The new state of the audit log
	PostAuditLog *PostAuditLog `json:"postAuditLog"`
}

// Toggle whether or not the moderator will be part of the queue
type ToggleModeratorSettingsInQueuePayload struct {
	// The new status of the moderator in queue
	ModeratorSettingsInQueue *bool `json:"moderatorSettingsInQueue"`
}

type PostAuditLogActionEnum string

const (
	PostAuditLogActionEnumApproved PostAuditLogActionEnum = "Approved"
	PostAuditLogActionEnumDenied   PostAuditLogActionEnum = "Denied"
)

var AllPostAuditLogActionEnum = []PostAuditLogActionEnum{
	PostAuditLogActionEnumApproved,
	PostAuditLogActionEnumDenied,
}

func (e PostAuditLogActionEnum) IsValid() bool {
	switch e {
	case PostAuditLogActionEnumApproved, PostAuditLogActionEnumDenied:
		return true
	}
	return false
}

func (e PostAuditLogActionEnum) String() string {
	return string(e)
}

func (e *PostAuditLogActionEnum) UnmarshalGQL(v interface{}) error {
	str, ok := v.(string)
	if !ok {
		return fmt.Errorf("enums must be strings")
	}

	*e = PostAuditLogActionEnum(str)
	if !e.IsValid() {
		return fmt.Errorf("%s is not a valid PostAuditLogActionEnum", str)
	}
	return nil
}

func (e PostAuditLogActionEnum) MarshalGQL(w io.Writer) {
	fmt.Fprint(w, strconv.Quote(e.String()))
}
