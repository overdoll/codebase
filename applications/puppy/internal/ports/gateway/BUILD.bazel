load("@io_bazel_rules_go//go:def.bzl", "go_library")

go_library(
    name = "gateway",
    srcs = [
        "datasource_poller.go",
        "gateway.go",
        "handler.go",
        "local_datasource.go",
        "ws.go",
    ],
    importpath = "overdoll/applications/puppy/internal/ports/gateway",
    visibility = ["//applications/puppy:__subpackages__"],
    deps = [
        "@com_github_gobwas_ws//:ws",
        "@com_github_gobwas_ws//wsutil",
        "@com_github_jensneuse_abstractlogger//:abstractlogger",
        "@com_github_jensneuse_graphql_go_tools//pkg/engine/datasource/graphql_datasource",
        "@com_github_jensneuse_graphql_go_tools//pkg/engine/plan",
        "@com_github_jensneuse_graphql_go_tools//pkg/graphql",
        "@com_github_jensneuse_graphql_go_tools//pkg/subscription",
        "@com_github_vektah_gqlparser_v2//:gqlparser",
        "@com_github_vektah_gqlparser_v2//ast",
    ],
)
